import{Bb as v,Db as D,E as f,Ea as b,N as I,_ as w,f as m,ga as d,k as j,na as M,o as h,r as x,t as y,va as l,w as g,wa as p}from"./chunk-G5K7HVYN.js";function P(e){return o=>o.pipe(g(n=>e.next(n)),f(n=>x(e.error(n))))}function Y(e,o,n){let t=typeof e=="function"?{next:e,error:o,complete:n}:e;return r=>r.pipe(w({next:t.next,complete:t.complete}),f(i=>(t.error(i),h)),t.finalize?I(t.finalize):i=>i)}function F(e,o){o?.injector||M(F);let n=o?.injector??d(l),t=new j,r=e(t).subscribe();n.get(p).onDestroy(()=>r.unsubscribe());let i=(c,S)=>{if(k(c))return t.next(c),{destroy:m};let z=R(),a=S?.injector??z??n;if(b(c)){let s=D(()=>{let A=c();v(()=>t.next(A))},{injector:a});return r.add({unsubscribe:()=>s.destroy()}),s}let u=c.subscribe(s=>t.next(s));return r.add(u),a!==n&&a.get(p).onDestroy(()=>u.unsubscribe()),{destroy:()=>u.unsubscribe()}};return i.destroy=r.unsubscribe.bind(r),i}function k(e){return!b(e)&&!y(e)}function R(){try{return d(l)}catch{return}}export{P as a,Y as b,F as c};
